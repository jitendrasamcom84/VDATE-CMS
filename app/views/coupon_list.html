<section id="widget-grid" class="">
    <!-- NEW WIDGET START -->
    <article class="col-xs-12 col-sm-12 col-md-12 col-lg-12 margin-bot nopadding" style="margin-bottom: 40px">
        <div class="jarviswidget" id="checkin_checkout" data-widget-editbutton="false" data-widget-togglebutton="false" data-widget-deletebutton="false"
            data-widget-fullscreenbutton="false" data-widget-custombutton="true">
            <header>
                <h2>
                    <strong>Coupons</strong>
                </h2>
                <div class="widget-toolbar" role="menu">
                    <div class="btn-group">
                        <a class="add btn btn-default btn-xs pull-right" title="Add Coupon" ng-href="#/coupon/add">
                            Add Coupons
                        </a>
                        <a class="usage add btn btn-default btn-xs pull-right" title="Add Order">
                            List of usages by users
                        </a>
                    </div>
                </div>
            </header>

            <div>
                <div class="text-center" ng-if="loading">
                    <i class="fa fa-spinner fa-pulse fa-3x fa-fw margin-bottom"></i>
                </div>
                <div class="widget-body table-responsive">
                        <table id="" dt-column-defs="dtColumnDefs" dt-options="dtOptions" datatable="ng" class="table table-striped table-bordered table-hover">
                        <thead style="white-space: nowrap;">
                            <tr>
                                <th>Name</th>
                                <th>Expiring Date</th>
                                <th>Number of Usages</th>
                                <th>Total Usages</th>
                                <th>Active?</th>
                                <th>Action</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="c in couponinfo" ng-class="{ 'active': p.$edit }">

                                <td data-title="'Name'" sortable="'name'" filter="{ 'name': 'text' }">
                                    <span>{{ c.name}}</span>
                                </td>
                                <td data-title="'Expire Date'" sortable="'expire_date'" filter="{ 'expire_date': 'date' }">
                                    <span>{{ c.expire_date | date : "dd/MM/yyyy"}}</span>
                                </td>
                                <td data-title="'Number of Usages'" sortable="'num_of_usages'" filter="{ 'num_of_usages': 'text' }">
                                    <span>{{ c.linked_user.length}}</span>
                                </td>
                                <td data-title="'Total Usages'" sortable="'total_usages'" filter="{ 'total_usages': 'text' }">
                                    <span>5</span>
                                </td>
                                <td data-title="'Active'" sortable="'is_active'" filter="{ 'is_active': 'text' }">
                                    <span >{{ checkActive(c)?'Active':'Deactive'}}</span>
                                </td>
                                <td data-title="'Actions'">
                                    <button type="button" ng-disabled="!checkdate(c)" id="edit" class="btn btn-default" title="Edit" ng-click="editCoupon('/coupon/Edit/' + c._id)">
                                        <i class="fa fa-edit" aria-hidden="true"></i>
                                    </button>
                                    <button type="button" id="delete" title="Delete" class="btn btn-default" ng-click="deleteData(c)">
                                        <i class="fa fa-trash-o" aria-hidden="true"></i>
                                    </button>
                                    <button type="button" if="is_active" ng-disabled="!checkdate(c)" ng-click="activeCoupon(c, $index)" class="btn btn-default">{{ c.is_active == true ? 'Deactive' : 'Active' }}</button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </article>
</section>