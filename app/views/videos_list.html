<section id="widget-grid" class="">
    <!-- NEW WIDGET START -->
    <article class="col-xs-12 col-sm-12 col-md-12 col-lg-12 margin-bot nopadding">
        <div class="jarviswidget" id="checkin_checkout" data-widget-editbutton="false" data-widget-togglebutton="false"
            data-widget-deletebutton="false" data-widget-fullscreenbutton="false" data-widget-custombutton="true">
            <header>
                <h2>
                    <strong>Videos</strong>
                </h2>
                <!-- <div class="widget-toolbar" role="menu">
                    <div class="btn-group">
                        <a class="btn btn-primary btn-xs" title="Add Video" ng-href="#/videos/add">
                            Add Video
                        </a>
                    </div>
                </div> -->
            </header>

            <div>
                <div class="text-center" ng-if="loading">
                    <i class="fa fa-spinner fa-pulse fa-3x fa-fw margin-bottom"></i>
                </div>
                <div class="widget-body table-responsive">
                    <table id="" dt-column-defs="dtColumnDefs" dt-options="dtOptions" datatable="ng" class="table table-striped table-bordered table-hover">
                        <thead style="white-space: nowrap;">
                            <tr>
                                <th>User</th>
                                <th>Content</th>
                                <th>Approve Time</th>
                                <th>Action</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="v in videoDataInfo" ng-class="{ 'active': v.$edit }">

                                <td data-title="'User'" sortable="'user'" filter="{ 'user': 'text' }" style="width:100px">
                                    <span>{{ v.user_id == null ? "" : v.user_id.firstname }}</span>
                                </td>
                                <td data-title="'Content'" sortable="'content'" filter="{ 'content': 'text' }">
                                    <span style="word-break: break-all !important">
                                        <a style="cursor: pointer" ng-if="v.content.indexOf('/videos') == 0" ng-click="GetVimeoVideos(v.content)">{{
                                            v.content}}</a>
                                        <a ng-if="v.content.indexOf('https://player.vimeo.com/') == 0" href="{{ v.content}}"
                                            target="_blank">{{ v.content}}</a>
                                    </span>
                                </td>
                                <td data-title="'Approve Time'" sortable="'last_updated'" filter="{ 'last_updated': 'date' }" style="width:100px">
                                    <span ng-if="v.is_approve==true">{{ v.last_updated | date : "hh:mm a"}}</span>
                                </td>
                                <td data-title="'Actions'">
                                    <button type="button" id="edit" class="btn btn-default"  ng-click="openpopup(v)">
                                        <i class="fa fa-envelope" title="System Message" aria-hidden="true"></i>
                                    </button>
                                    <button type="button" id="Approve" class="btn btn-default" ng-click="approveVideo(v)"
                                        ng-if="v.is_approve==false">
                                        <i class="fa fa-check" title="Approve" aria-hidden="true"></i>
                                    </button>
                                    <button type="button" id="Approve" class="btn btn-default" ng-click="approveVideo(v)"
                                        ng-if="v.is_approve==true">
                                        <i class="fa fa-close" title="Disapprove" aria-hidden="true"></i>
                                    </button>
                                    <button type="button" id="delete" class="btn btn-default" ng-click="deleteData(v)">
                                        <i class="fa fa-trash-o" title="Delete" aria-hidden="true"></i>
                                    </button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </article>
</section>
<!--Popup start-->
<div ng-if="ShowPopup">
    <div class="overlay" ng-style="{'opacity':ClosePopup ? '0' : '1','visibility':ClosePopup ? 'hidden':'visible'}">
        <div class="popup new_delet_popup">
            <div class="popup_content">
                <div class="list_user_content">
                    <div style="text-align: center;">
                        <h2 style="font-weight: normal;text-transform: none;color: black;border-bottom: 0px;">
                            Send Message
                        </h2>
                        <textarea name="message" ng-model="message" placeholder="Type Message ........" style="margin-bottom: 10px;width: 430px;height: 119px;"></textarea>
                    </div>
                    <div class="popup_footer" style="text-align: center;">
                        <span class="table_content">
                            <button type="button" id="send" title="Send" class="btn btn-default" ng-click="sendMessage(message)">
                                Send
                            </button>
                            <button type="button" id="close" title="Close" class="btn btn-default" ng-click="hidePopup()">
                                Close
                            </button>
                        </span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!--Popup end-->